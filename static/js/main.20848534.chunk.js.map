{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/label.svg","icons/left.svg","icons/morny.svg","icons/right.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","pages/Tags/Tags.tsx","pages/Money/TagSection.tsx","components/Input.tsx","pages/Money/NoteSection.tsx","pages/Money/CategorySection.tsx","pages/Money/generateOutput.tsx","pages/Money/NumberPadSection.tsx","hooks/useRecords.tsx","pages/Money/Money.tsx","pages/Statistics.tsx","pages/NoMatch.tsx","pages/Tags/TagEdit.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","className","onClick","classnames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","children","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","deps","count","useRef","useEffect","current","useTags","useState","tags","setTags","localTags","parse","length","findTag","filter","tag","updateTag","obj","deleteTag","addTag","tagName","prompt","Button","button","Center","Space","TagList","ol","Tags","key","section","TagSection","selectedTagIds","value","tagId","indexOf","onChange","t","Label","label","Input","rest","NoteSection","note","target","placeholder","CategorySection","categoryMap","categoryList","category","c","generateOutput","text","output","slice","NumberPadSection","toString","newOutput","hello","_setOutput","textContent","split","concat","parseFloat","setOutput","onOk","p","useRecords","records","setRecords","addRecords","newRecord","amount","alert","record","createdAt","Date","toISOString","CategorySectionWrapper","defaultSelected","tagIds","Money","selected","setSelected","Item","Statistics","setCategory","hash","r","day","format","push","array","entries","sort","a","b","date","reduce","result","span","index","NoMatch","Topbar","header","InputWrapper","TagEdit","useParams","tagNotExist","history","useHistory","goBack","type","tagContent","AppWrapper","App","path","exact","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.20848534.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 37,\n\t\"./label.svg\": 38,\n\t\"./left.svg\": 39,\n\t\"./morny.svg\": 40,\n\t\"./right.svg\": 41\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 36;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1025 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1025 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M226.196 435.107c-4.91 0-9.624-2.752-11.894-7.474-3.156-6.563-.391-14.44 6.172-17.596l193.374-92.948a13.19 13.19 0 0111.404-.008l185.959 88.989 185.884-180.36c5.232-5.072 13.567-4.948 18.643.28 5.067 5.228 4.943 13.571-.28 18.643L622.98 431.39a13.17 13.17 0 01-14.868 2.43l-188.542-90.23-187.673 90.214a13.118 13.118 0 01-5.702 1.302zM231.96 748.18c-7.28 0-13.184-5.904-13.184-13.184V617.32c0-7.284 5.904-13.183 13.184-13.183s13.183 5.904 13.183 13.183v117.676c0 7.284-5.903 13.184-13.183 13.184zM425.318 748.18c-7.28 0-13.184-5.904-13.184-13.184V518.443c0-7.28 5.904-13.183 13.184-13.183s13.183 5.904 13.183 13.183v216.553c0 7.284-5.903 13.184-13.183 13.184zM618.684 748.18c-7.284 0-13.183-5.904-13.183-13.184V617.32c0-7.284 5.903-13.183 13.183-13.183s13.184 5.904 13.184 13.183v117.676c0 7.284-5.904 13.184-13.184 13.184zM812.034 748.18c-7.284 0-13.184-5.904-13.184-13.184V465.033c0-7.28 5.904-13.183 13.184-13.183s13.183 5.904 13.183 13.183v269.963c0 7.284-5.9 13.184-13.183 13.184zM129.676 809.45c-7.28 0-13.184-5.907-13.184-13.179V227.73c0-7.28 5.904-13.184 13.184-13.184 7.28 0 13.183 5.904 13.183 13.184V796.27c0 7.276-5.903 13.18-13.183 13.18z\\\" /><path d=\\\"M895.968 809.45H129.676c-7.28 0-13.184-5.907-13.184-13.179 0-7.284 5.904-13.187 13.184-13.187h766.292c7.284 0 11.544 5.907 11.544 13.187 0 7.276-4.26 13.18-11.544 13.18zM812.034 240.912H706.565c-7.284 0-13.183-5.903-13.183-13.183s5.903-13.184 13.183-13.184h105.469c7.284 0 13.183 5.904 13.183 13.184s-5.9 13.183-13.183 13.183z\\\" /><path d=\\\"M812.034 346.381c-7.284 0-13.184-5.904-13.184-13.183v-105.47c0-7.28 5.904-13.183 13.184-13.183s13.183 5.904 13.183 13.184v105.469c0 7.28-5.9 13.183-13.183 13.183z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"label\",\n  \"use\": \"label-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"label\\\"><defs><style></style></defs><path d=\\\"M857.938 206.094l-334.97 2.812L67.907 674.562l288.188 300.75L840.78 540.688l17.157-334.593zm-500.063 723.75L113.469 674.75 536.75 241.531l286.688-2.344L808.813 525.5 357.875 929.844z\\\" /><path d=\\\"M637.25 321.125c-23.531 22.5-24.281 59.906-1.781 83.438 22.5 23.437 59.906 24.28 83.437 1.78 23.438-22.5 24.282-59.906 1.782-83.437s-59.907-24.281-83.438-1.781zm58.969 61.5c-10.407 10.031-27.094 9.656-37.125-.844-10.032-10.406-9.657-27.094.75-37.125s27.093-9.656 37.125.844 9.656 27.094-.75 37.125zM132.23 680.089l23.626-22.635L303.275 811.33l-23.626 22.635zM309.123 864.8l23.626-22.634 44.232 46.169-23.626 22.635z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M249.1 483.6L718.8 75c15.4-14.6 40.4-14.6 55.8 0 15.4 14.6 15.4 38.4 0 53L333.2 512l441.4 384c15.4 14.6 15.4 38.4 0 53-15.4 14.7-40.4 14.7-55.8 0L249.1 540.4c-8.2-7.8-11.7-18.2-11.2-28.4-.6-10.2 2.9-20.6 11.2-28.4z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"morny\",\n  \"use\": \"morny-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"morny\\\"><defs><style></style></defs><path d=\\\"M817.369 116.492H263.017c-49.666 0-90.062 40.32-90.062 90.062v34.99c0 3.244.54 6.41 1.853 9.423 4.79 10.66 16.298 16.066 27.343 12.976 9.964-2.857 16.684-12.203 16.684-22.476v-24.254c0-30.278 24.563-54.763 54.764-54.763h533.188c30.278 0 54.763 24.562 54.763 54.763v589.651c0 30.278-24.562 54.763-54.763 54.763H273.599c-30.279 0-54.764-24.562-54.764-54.763v-24.176c0-12.513-9.81-23.095-22.322-23.481-12.976-.386-23.558 10.041-23.558 22.94v35.299c0 49.82 40.319 90.062 90.062 90.062h554.352c49.82 0 90.062-40.32 90.062-90.062V206.554c0-49.742-40.32-90.062-90.062-90.062\\\" /><path d=\\\"M139.432 341.57h113.003c12.744 0 22.94 10.273 22.94 22.94s-10.273 22.94-22.94 22.94H139.432c-12.667.078-22.94-10.195-22.94-22.94s10.273-22.94 22.94-22.94m0 147.297h113.003c12.744 0 22.94 10.273 22.94 22.94s-10.273 22.94-22.94 22.94H139.432c-12.667 0-22.94-10.273-22.94-22.94s10.273-22.94 22.94-22.94m0 147.528h113.003c12.744 0 22.94 10.273 22.94 22.94s-10.273 22.94-22.94 22.94H139.432c-12.667.078-22.94-10.195-22.94-22.862s10.273-23.018 22.94-23.018m533.266-92.765L569.66 544.71l-.695-61.87h103.887c11.046 0 20.006-8.959 20.006-20.004s-8.96-20.005-20.006-20.005h-98.867l80.407-80.407a19.953 19.953 0 000-28.348c-7.801-7.8-20.391-7.878-28.27-.077l-.077.077-78.013 78.09-78.012-78.012c-7.801-7.802-20.391-7.879-28.27-.078l-.077.078c-7.801 7.801-7.879 20.391-.077 28.27l.077.077 80.407 80.407h-95.314c-11.046 0-20.006 8.96-20.006 20.005s8.96 20.005 20.006 20.005h102.188l.695 62.178-103.038 1.082c-11.045.077-20.005 9.114-19.928 20.082.077 11.045 9.114 20.005 20.083 19.928h.154l103.038-1.081 1.082 118.486c.077 10.968 9.037 19.85 20.005 19.85h.154c11.046-.077 19.928-9.19 19.851-20.159l-1.081-118.486 103.038-1.082c11.045-.077 19.928-9.191 19.85-20.16-.077-11.122-9.19-20.004-20.159-19.927z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M702.382 511.883l-33.107-33.128-.142.14-314.408-314.434-33.107 33.107L636.03 512 321.618 826.435l33.107 33.103 314.408-314.431.142.14 33.107-33.131-.118-.117.118-.116zm0 0\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classnames from 'classnames';\r\n//require一个目录怎么做？\r\nconst importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {\r\n  importAll(require.context('icons', true, /\\.svg$/));\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\n\r\ntype Props = {\r\n  name?: string,\r\n  className?: string,\r\n  onClick?: () => void\r\n}\r\n\r\nconst Icon = (props: Props) => {\r\n  const { name, className, onClick} = props;\r\n  return (\r\n    <svg className={classnames('icon',className)} onClick={onClick}>\r\n      {name && <use xlinkHref={`#${name}`}/>}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n","import styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\nimport React from 'react';\r\nimport Icon from './Icon';\r\n\r\nconst NavWrapper = styled.nav`\r\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n  border-top: 1px solid black;\r\n  background: white;\r\n  > ul {\r\n  width: 100%;\r\n  display: flex;\r\n  > li {\r\n  width: 33.3333%;\r\n  text-align: center;\r\n  > a {\r\n   padding: 4px 16px;\r\n   display: flex;\r\n   flex-direction: column;\r\n   justify-content: center;\r\n   align-items: center;\r\n   > .icon {\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n  &.active {\r\n    .icon {\r\n      fill: #fedb43;\r\n    }\r\n  }\r\n  }\r\n  }\r\n  }\r\n`;\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/tags\" activeClassName=\"active\">\r\n            <Icon name=\"label\"/>\r\n            标签\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/money\" activeClassName=\"active\">\r\n            <Icon name=\"morny\"/>\r\n            记账\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/statistics\" activeClassName=\"active\">\r\n            <Icon name=\"chart\"/>\r\n            统计\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import Nav from './Nav';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper=styled.div`\r\n  border: 1px solid red;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #f5f5f5;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\ntype Props = {\r\n\r\n}\r\n\r\nconst Layout = (props:any) => {\r\n  return (\r\n    <Wrapper>\r\n      <Main>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId = (): number => {\r\n  id +=1;\r\n  window.localStorage.setItem('idMax',JSON.stringify(id));\r\n  return id;\r\n};\r\n\r\nexport { createId };\r\n\r\n\r\n","import {useEffect, useRef} from 'react';\r\n\r\nconst useUpdate = (fn : () => void, deps: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n    //console.log('count:' + count.current);\r\n  });\r\n  useEffect(() => {\r\n    if(count.current > 1) {   //优化\r\n      fn();\r\n    }\r\n  },deps);  //不可变数据，每次修改都需要是一个新的对象\r\n};\r\n\r\nexport {\r\n  useUpdate\r\n};\r\n","import {useEffect, useState} from 'react';\r\nimport {createId} from '../lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n//自定义hook\r\nconst useTags = () => {\r\n  const [tags,setTags] = useState<{ id: number,name: string}[]>([]);\r\n\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n    if(localTags.length === 0) {\r\n      localTags = [\r\n        {id: createId(), name: '衣'},\r\n        {id: createId(), name: '食'},\r\n        {id: createId(), name: '住'},\r\n        {id: createId(), name: '行'},\r\n      ];   //默认的tag\r\n    }\r\n    setTags(localTags);\r\n  },[]);\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('tags',JSON.stringify(tags));\r\n  },[tags]);\r\n\r\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n  // const findTagIndex = (id: number) => {\r\n  //   let tagIndex = -1;\r\n  //   tags.forEach( (item, index) => {\r\n  //     if(item.id === id) {\r\n  //       tagIndex = index;\r\n  //     }\r\n  //   });\r\n  //   return tagIndex;\r\n  // };\r\n  const updateTag = (id: number,obj: {name: string}) => {\r\n    // let tagIndex = findTagIndex(id);\r\n    // const deepCloneTags = JSON.parse(JSON.stringify(tags)); //React不推荐直接修改原有的数据\r\n    // deepCloneTags.splice(tagIndex,1,{id:id,name: obj.name});\r\n    // setTags(deepCloneTags);\r\n    setTags(tags.map(tag => {\r\n      if(tag.id === id) {\r\n        return {\r\n          id,\r\n          name: obj.name\r\n        };\r\n      } else {\r\n        return tag;\r\n      }\r\n    }));\r\n  };\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter( tag => tag.id !== id));  //filter返回一个新的数组\r\n  };\r\n  const addTag = () => {\r\n    const tagName = window.prompt('新标签的名称为');\r\n    if(tagName !== null && tagName !== '') {\r\n      setTags([...tags,{\r\n        id: createId(),\r\n        name: tagName\r\n      }]);\r\n    }\r\n  };\r\n  return {\r\n    tags,\r\n    setTags,\r\n    findTag,\r\n    updateTag,\r\n    deleteTag,\r\n    addTag\r\n  };\r\n};\r\n\r\nexport {useTags};\r\n\r\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: skyblue;\r\n  border-radius: 4px;\r\n  color: white;\r\n`;\r\n\r\nexport { Button };\r\n","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport { Center };\r\n","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\n  width: 100%;\r\n  height: 16px;\r\n`;\r\n\r\nexport { Space };\r\n","import React from 'react';\r\nimport Layout from '../../components/Layout';\r\nimport {useTags} from '../../hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from '../../components/Icon';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from '../../components/Button';\r\nimport {Center} from '../../components/Center';\r\nimport {Space} from '../../components/Space';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    margin-left: 10px;\r\n    > a {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 10px 16px 10px 0;\r\n      line-height: 20px;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Tags() {\r\n  const {tags,addTag} = useTags();\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {\r\n          tags.map(tag => {\r\n            return (\r\n              <li key={tag.id}>\r\n                <Link to={'/tags/' + tag.id}>\r\n                  <span className=\"one-line\">{tag.name}</span>\r\n                  <Icon name=\"right\"/>\r\n                </Link>\r\n              </li>\r\n            );\r\n          })\r\n        }\r\n      </TagList>\r\n      <Center>\r\n        <Space/>\r\n        <Button onClick={addTag}>新增标签</Button>\r\n        <Space/>\r\n      </Center>\r\n\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Tags;\r\n","import styled from 'styled-components';\nimport React from 'react';\nimport {useTags} from '../../hooks/useTags';\n\nconst Wrapper = styled.section`\n  background: #ffffff;\n  padding: 16px;\n  > ol {\n     margin: 0 -12px;\n     > li {\n      background: #d9d9d9;\n      border-radius: 18px;\n      display: inline-block;\n      padding: 3px 16px;\n      margin: 8px 12px;\n      &.active {\n      background: #f60;\n      }\n    }\n  }\n  > button {\n    background: none;\n    border: none;\n    padding: 2px 4px;\n    border-bottom: 1px solid #333;\n    color: #666;\n    margin-top: 10px;\n    \n  }\n`;\n\ntype Props = {\n  value: number [],\n  onChange: (selected: number[]) => void\n}\n\nconst TagSection: React.FunctionComponent<Props> = (props) => {\n  // const [tags,setTags] = useState<string[]>(['衣','食','住','行']);\n  const {tags, addTag} = useTags();\n  const selectedTagIds = props.value;\n  // const handleAddTag = () => {\n  //   const tagName = window.prompt('新标签的名称为');\n  //   if(tagName !== null) {\n  //     setTags([...tags,{\n  //       id: createId(),\n  //       name: tagName\n  //     }]);\n  //   }\n  // };\n  const handleToggleTag = (tagId: number) => {\n    if(selectedTagIds.indexOf(tagId) >= 0) {\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\n    } else {\n      props.onChange([...selectedTagIds,tagId]);\n    }\n  };\n  return (\n    <Wrapper>\n      <ol>\n        {\n          tags.map(tag =>\n            <li\n              key={tag.id}\n              onClick={() => {handleToggleTag(tag.id)}}\n              className={selectedTagIds.indexOf(tag.id) >=0 ? 'active' : ''}\n            >\n              {tag.name}\n            </li>\n          )\n        }\n      </ol>\n      <button onClick={addTag}>新增标签</button>\n    </Wrapper>\n  );\n};\n\nexport default TagSection;\n","import styled from 'styled-components';\r\nimport * as React from 'react';\r\n\r\nconst Label = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    > span {\r\n      margin-right: 16px;\r\n      white-space: nowrap;\r\n    }\r\n    > input {\r\n      display: block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n`;\r\ntype Props = {\r\n  label: string\r\n} & React.InputHTMLAttributes<HTMLInputElement>;\r\n\r\nconst Input: React.FC<Props> = (props) => {\r\n  const { label ,...rest} = props;\r\n  return (\r\n    <Label>\r\n      <span>{label}</span>\r\n      <input\r\n        {...rest}\r\n      />\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport { Input };\r\n","import styled from 'styled-components';\nimport React, {ChangeEventHandler} from 'react';\nimport {Input} from '../../components/Input';\n\nconst Wrapper = styled.section`\n  background: #f5f5f5;\n  padding: 0 16px;\n`;\n\ntype Props = {\n  value: string,\n  onChange: (note: string) => void\n}\n\nconst NoteSection: React.FunctionComponent<Props> = (props) => {\n  // const [note,setNote] = useState('');\n  const note = props.value;\n  // const inputRef = useRef<HTMLInputElement>(null);\n  const handleChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    props.onChange(e.target.value);\n  };\n  return (\n    <Wrapper>\n      <Input label=\"备注\" value={note} onChange={handleChange} placeholder=\"请输入备注\"/>\n    </Wrapper>\n  );\n};\n\nexport default NoteSection;\n","import styled from 'styled-components';\nimport React, {useState} from 'react';\n\nconst Wrapper = styled.section`\n  > ul {\n    display: flex;\n    > li {\n      width: 50%;\n      font-size: 24px;\n      padding: 16px 0;\n      text-align: center;\n      position: relative;\n      &.active::after {\n        content: '';\n        display: block;\n        height: 3px;\n        background: #333;\n        position: absolute;\n        width: 100%;\n        left: 0;\n        bottom: 0;\n      }\n    }\n  }\n`;\n\n\ntype Props = {\n  value: '-' | '+',\n  onChange: (value: '-' | '+') => void\n}\n\nconst CategorySection: React.FunctionComponent<Props> = (props) => {\n  const categoryMap = {'-': '支出', '+': '收入'};\n  type x = typeof categoryMap\n  const [categoryList] = useState<('-' | '+')[]>(['-', '+']);\n  // const [category,setCategory] = useState<string>('-');  // + 表示收入 - 表示支出\n  const category = props.value;\n  return (\n    <Wrapper>\n      <ul>\n        {\n          categoryList.map(c =>\n            <li\n              className={category === c ? 'active' : ''}\n              onClick={() => {\n                props.onChange(c);\n              }}\n            >\n              {categoryMap[c]}\n            </li>\n          )\n        }\n      </ul>\n    </Wrapper>\n  );\n};\n\nexport default CategorySection;\n","const generateOutput = (text:string, output = '0') => {\n  switch (text) {\n    case '0':\n    case '1':\n    case '2':\n    case '3':\n    case '4':\n    case '5':\n    case '6':\n    case '7':\n    case '8':\n    case '9':\n      if (output === '0') {\n        return text;\n      } else {\n        return output + text;\n      }\n    case '删除':\n      if(output.length === 1) {\n        return '0';\n      } else {\n        return output.slice(0, -1) || '';\n      }\n    case '清空':\n      return '';\n    case '.':\n      if(output.indexOf('.') >= 0) {\n        return output;\n      } else {\n        // console.log(output + 'p');\n        return output + '.';\n      }\n    default:\n      return '';\n  }\n};\n\nexport default generateOutput;\n","import styled from 'styled-components';\nimport React, {useState} from 'react';\nimport generateOutput from './generateOutput';\n\nconst Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  > .output {\n    background: white;\n    font-size: 36px;\n    line-height: 72px;\n    text-align: right;\n    padding: 0 16px;\n    box-shadow: inset 0 0 5px rgba(0,0,0,0.25);\n  }\n  > .pad {\n    > button {\n      float: left;\n      width: 25%;\n      height: 64px;\n      &.ok {\n        height: 128px;\n        float: right;\n      }\n      &.zero {\n      width: 50%;\n      }\n      &:nth-child(1) {\n        background: #f2f2f2;\n      }\n      &:nth-child(2),&:nth-child(5) {\n        background: #ededed;\n      }\n      &:nth-child(3),&:nth-child(6),&:nth-child(9) {\n        background: #d3d3d3;\n      }\n      &:nth-child(4),&:nth-child(7),&:nth-child(10) {\n        background: #c1c1c1;\n      }\n      &:nth-child(8),&:nth-child(11),&:nth-child(13) {\n        background: #b8b8b8;\n      }\n      &:nth-child(12) {\n        background: #a9a9a9;\n      }\n      &:nth-child(14) {\n        background: #9a9a9a;\n      }\n    }\n  }\n`;\n\ntype Props = {\n  value: number,\n  onChange: (value: number) => void,\n  onOk: () => void\n}\n\nconst NumberPadSection: React.FC<Props> = (props) => {\n  console.log(props.value.toString());\n  const hello = props.value.toString();\n  const [output,_setOutput] = useState(hello);\n  console.log('output',output);\n  let newOutput;\n  const setOutput = (output: string) => {\n    if(output.length > 16) {\n      newOutput = output.slice(0,16);\n    } else if(output.length === 0) {\n      newOutput = '0';\n    } else {\n      newOutput = output;\n    }\n    _setOutput(newOutput);\n    props.onChange(parseFloat(newOutput));\n  };\n  const pad = [1,2,3,'删除',4,5,6,'清空',7,8,9,'OK',0,'.'];\n  const handleButton = (e: React.MouseEvent<HTMLDivElement>) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    console.log(text);\n    if(text === null) return;\n    if(text === 'OK') {\n      props.onOk();\n      return;\n    }\n    if('0123456789.'.split('').concat(['删除','清空']).indexOf(text) >= 0) {\n      // console.log(text)\n      setOutput(generateOutput(text,output));\n    }\n  };\n  return (\n    <Wrapper>\n      <div className=\"output\">\n        {output}\n      </div>\n      <div className=\"pad clearfix \" onClick={handleButton}>\n        {\n          pad.map(p => {\n            if(p === 'OK') {\n              return <button className=\"ok\">OK</button>\n            }\n            if(p === 0) {\n              return <button className=\"zero\">0</button>\n            }\n            if(p === '.') {\n              return <button className=\"dot\">.</button>\n            }\n            return  <button>{p}</button>\n          })\n        }\n      </div>\n    </Wrapper>\n  );\n};\nexport default NumberPadSection;\n","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[],\r\n  note: string,\r\n  category: '+' | '-',\r\n  amount: number,\r\n  createdAt: string, // ISO 8601\r\n  updatedAt?: string\r\n}\r\ntype newRecordItem = Omit<RecordItem,'createdAt' | 'updatedAt'>\r\n\r\nconst useRecords = () => {\r\n  const [records,setRecords] = useState<RecordItem[]>([]);\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n  },[]);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records',JSON.stringify(records));\r\n  },[records]);\r\n  const addRecords = (newRecord: newRecordItem) => {\r\n    if(newRecord.amount <= 0) {\r\n      alert('金额不能为0哦');\r\n      return false;\r\n    }\r\n    const record = {...newRecord,createdAt: (new Date()).toISOString()};\r\n    setRecords([\r\n      ...records,\r\n      record\r\n    ]);\r\n    return true;\r\n  };\r\n  return {\r\n    records,\r\n    addRecords\r\n  }\r\n};\r\n\r\nexport {\r\n  useRecords,\r\n};\r\n","import Layout from '../../components/Layout';\nimport React, {useState} from 'react';\nimport TagSection from './TagSection';\nimport NoteSection from './NoteSection';\nimport CategorySection from './CategorySection';\nimport NumberPadSection from './NumberPadSection';\nimport {useRecords} from '../../hooks/useRecords';\nimport styled from 'styled-components';\n\nconst CategorySectionWrapper = styled.div`\n  background: #c4c4c4;\n`;\n\ntype Category = '-' | '+';\n\nconst defaultSelected = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n};\nfunction Money() {\n  const [selected,setSelected] = useState(defaultSelected);\n  const onChange = (obj: Partial <typeof selected>) => {\n    setSelected({\n      ...selected, //useState和setState是不一样的不会合并之前的数据\n      ...obj\n    })\n  };\n  const {addRecords} = useRecords();\n  const handleSubmit = () => {\n    if(addRecords(selected)) {\n      alert('成功');\n      setSelected(defaultSelected);\n    }\n  };\n  return (\n    <Layout>\n      {/*{*/}\n      {/*  JSON.stringify(selected)*/}\n      {/*}*/}\n      <TagSection value={selected.tagIds} onChange={(tagIds) => onChange({tagIds})}/>\n      <NoteSection value={selected.note} onChange={(note) => onChange({note})}/>\n      <CategorySectionWrapper>\n        <CategorySection value={selected.category} onChange={(category) => onChange({category})}/>\n      </CategorySectionWrapper>\n      <NumberPadSection value={selected.amount} onChange={(amount) => onChange({amount})} onOk={() => handleSubmit()}\n      />\n    </Layout>\n  );\n}\n\nexport default Money;\n","import Layout from '../components/Layout';\r\nimport React, {ReactNode, useState} from 'react';\r\nimport CategorySection from './Money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {RecordItem, useRecords} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst CategorySectionWrapper = styled.div`\r\n  background: white;\r\n`;\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  background: white;\r\n  font-size: 18px;\r\n  > .note {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n  }\r\n`;\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const { records } = useRecords();\r\n  const { findTag } = useTags();\r\n  console.log('记录',records);\r\n  let hash: {[K: string]: RecordItem[]} = {};\r\n  const selectedRecords = records.filter(record => record.category === category);\r\n  selectedRecords.forEach( r => {\r\n    const key = day(r.createdAt).format('YYYY-MM-DD');\r\n    if(!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if(a[0] === b[0]) return 0;\r\n    if(a[0] > b[0]) return -1;\r\n    if(a[0] < b[0]) return 1;\r\n    return 0;\r\n  });\r\n  return (\r\n    <Layout>\r\n      <CategorySectionWrapper>\r\n        <CategorySection value={category} onChange={(value) => setCategory(value)}/>\r\n      </CategorySectionWrapper>\r\n      {\r\n        array.map(([date,records]) => {\r\n          return (\r\n            <div>\r\n              <h3>{date}</h3>\r\n              <div>\r\n                {\r\n                  records.map( r => {\r\n                    return <Item>\r\n                      <div className=\"tags\">\r\n                        {\r\n                          r.tagIds.map(tagId =>{\r\n                            return  <span key={tagId}>{findTag(tagId).name}</span>;\r\n                          }).reduce((result,span,index,array) => {\r\n                            return result.concat(index < array.length - 1 ? [span, '，'] : [span])\r\n                          },[] as ReactNode[])\r\n                        }\r\n                      </div>\r\n                      {\r\n                        r.note && <div className=\"note\">{r.note}</div>\r\n                      }\r\n                      <div className=\"amount\">\r\n                        ￥{r.amount}\r\n                      </div>\r\n                    </Item>\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n      }\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n","import React from 'react';\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <div>\r\n      <h3>\r\n        抱歉页面不存在\r\n      </h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoMatch;\r\n","import React from 'react';\r\nimport {useTags} from '../../hooks/useTags';\r\nimport {useHistory, useParams} from 'react-router';\r\nimport Layout from '../../components/Layout';\r\nimport Icon from '../../components/Icon';\r\nimport {Button} from '../../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../../components/Input';\r\nimport {Center} from '../../components/Center';\r\nimport {Space} from '../../components/Space';\r\n\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`;\r\nconst InputWrapper = styled.div`\r\n  background: white;\r\n  padding: 14px 16px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst TagEdit: React.FC = () => {\r\n  const { tags, updateTag, deleteTag } = useTags();\r\n  let { id } = useParams();  //id为string类型\r\n  let tag = tags.filter(tag => tag.id === parseInt(id))[0];\r\n  const tagContent = (tag: {id: number,name: string}) => {\r\n    return (\r\n      <div>\r\n        <InputWrapper>\r\n          <Input\r\n            label=\"标签名\"\r\n            type=\"text\" placeholder=\"标签名\"\r\n            value={tag.name}\r\n            onChange={ (e) => {\r\n              updateTag(tag.id,{name: e.target.value});\r\n            }}\r\n          />\r\n        </InputWrapper>\r\n        <Center>\r\n          <Space/>\r\n          <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\r\n          <Space/>\r\n        </Center>\r\n      </div>\r\n    )\r\n  };\r\n  const tagNotExist = (\r\n    <Center>\r\n      <Space/>\r\n      <div>tag 不存在</div>\r\n      <Space/>\r\n    </Center>\r\n  );\r\n  const history = useHistory();\r\n  const handleBack = () => {\r\n    history.goBack();\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Topbar>\r\n        <Icon name=\"left\" onClick={handleBack}/>\r\n        <span>编辑标签</span>\r\n        <Icon />\r\n      </Topbar>\r\n      {\r\n        tag ? tagContent(tag) : tagNotExist\r\n      }\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport { TagEdit };\r\n\r\n\r\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom';\n\nimport Tags from './pages/Tags/Tags';\nimport Money from './pages/Money/Money';\nimport Statistics from './pages/Statistics';\nimport NoMatch from './pages/NoMatch';\nimport styled from 'styled-components';\nimport {TagEdit} from './pages/Tags/TagEdit';\n\nconst AppWrapper = styled.div`\n  color: #333;\n`;\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route path=\"/tags\" exact>\n            <Tags/>\n          </Route>\n          <Route path=\"/tags/:id\" exact>\n            <TagEdit/>\n          </Route>\n          <Route path=\"/money\" exact>\n            <Money/>\n          </Route>\n          <Route path=\"/statistics\" exact>\n            <Statistics/>\n          </Route>\n          <Route exact path=\"/\">\n            <Redirect to=\"/tags\" exact />\n          </Route>\n          <Route path=\"*\">\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}